<div class="div-container">
  <div class="sidebar">
    <app-side-bar-admin></app-side-bar-admin>
  </div>  

  <main class="main-content">
    <div class="edit-student-container">
      <h2>Modifier l'étudiant</h2>
      <img *ngIf="etudiant.image" [src]="'data:image/jpeg;base64,' + etudiant.image" alt="Student Image" width="40px">

      <form (ngSubmit)="onSubmit()" #studentForm="ngForm">
        <div class="form-group">
          <label for="nom">Nom </label>
          <input
            type="text"
            id="nom"
            name="nom"
            [(ngModel)]="etudiant.nom"
            required
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="prenom">Prénom</label>
          <input
            type="text"
            id="prenom"
            name="prenom"
            [(ngModel)]="etudiant.prenom"
            required
            class="form-control"
          />
        </div>
  
    
        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="etudiant.email"
            required
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="pswrd">Mot de passe</label>
          <input
            [type]="hidePassword ?'password':'text'"
            id="pswrd"
            name="pswrd"
            [(ngModel)]="etudiant.password"
            required
            class="form-control"
          />
          <span>
            <i class="fa" aria-hidden="true" type="button" id="eye" (click)="togglePasswordVisibility()"
               [ngClass]="hidePassword ? 'fa-eye' : 'fa-eye-slash'">
            </i>
         </span>
        </div>

        
        <div class="form-group">
          <label for="phone">Téléphone</label>
          <input
            type="text"
            id="phone"
            name="phone"
            [(ngModel)]="etudiant.telephone"
            required
            class="form-control"
          />
        </div>
    

        <div class="form-group">
          <label for="gender">Genre</label>
          <select
            id="gender"
            name="gender"
            [(ngModel)]="etudiant.genre"
            required
            class="form-control"
          >
            <option value="HOMME">Masculin</option>
            <option value="FEMME">Féminin</option>
          </select>
        </div>

        <div class="form-group">
          <label for="filiere">Filiere</label>
          <select
            id="filiere"
            name="filiere"
            [(ngModel)]="etudiant.filiere"
            required
            class="form-control"
          >
            <option value="INFO">Informatique</option>
            <option value="INDUS">Industriel</option>
            <option value="SEII">Système Embarqué</option>
            <option value="MECA">Mécanique</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="anneeEtude">Année Etude</label>
          <select
            id="anneeEtude"
            name="anneeEtude"
            [(ngModel)]="etudiant.anneeEtude"
            required
            class="form-control"
          >
            <option value="PREMIEREANNEE">Première Année</option>
            <option value="DEUXIEMEANNEE">Deuxième Année</option>
            <option value="TROISIEMEANNEE">Troisième Année Embarqué</option>
          </select>
        </div>
    
         
    
    
        
     <!--
        <div class="form-group">
          <label for="imageUrl">URL de l'image</label>
          <input
            type="text"
            id="imageUrl"
            name="imageUrl"
            [(ngModel)]="student.imageUrl"
            class="form-control"
          />
        </div>-->
        <div class="form-group ">
          <label for="image"  class="form-label">Image</label>
          <input
            type="file"
            id="image"
            name="image"
            (change)="onFileSelected($event)"
             class="form-control"
          />
        </div>



        <button type="submit" class="btn btn-primary" [disabled]="!studentForm.form.valid">
          Enregistrer
        </button>
    
        <a routerLink="/students/list" class="btn btn-secondary">Annuler</a>
      </form>
    </div>
  </main>
</div>